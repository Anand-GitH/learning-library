# Interval Partitioning - PENDING VERIFICATION

## Introduction
 The INTERVAL clause of the CREATE TABLE statement establishes interval partitioning for the table. You must specify at least one range partition using the PARTITION clause. The range partitioning key value determines the high value of the range partitions, called the transition point. The database automatically creates interval partitions for data beyond that transition point. The lower boundary of every interval partition is the non-inclusive upper boundary of the previous range or interval partition.

 ![Image alt text](images/lab02_01.png "List Partition")

### Features

*	Introduced with Oracle 11g
*	Extension to Range Partitioning
*	Full Automation for equal sized range partitions
*	Part of Composite Level Partitioning 
*	Difference Interval and Range Partitioning
*	Naming Template only for Range
*	System generated names for interval
*	Segments are allocated as soon as new data arrives
*	No need for any Partition management

### Business Challenges 

TBD 
 
### Objectives
 
In this lab, you will:
* create Interval Partitions

### Prerequisites
This lab assumes you have completed the following lab:

- Provision an ADB Instance (19c, Always Free)

## Task 1: Cleanup

Let us remove all the objects that we will create. Execute the following code snippet. You can safely ignore any 'table does not exist' error message. If a table does not exist, there is nothing wrong with not being able to drop it  .

```
<copy>
rem cleanup of all objects
drop table interval_par_demo purge; 
</copy>
```
 
## Task 2: Create Interval Partitions

Let's Create Interval Partitions Table:

The following example specifies two partitions with varying interval widths. 

It also specifies that above the transition point of August 1, 2007, partitions are created with an interval width of one month. The high bound of partition interval\_par\_demop3 represents the transition point. interval\_par\_demo\_p3 and all partitions below it (interval\_par\_demo\_p2 in this example) are in the range section while all partitions above it fall into the interval section.
 
```
<copy>
create table  
interval_par_demo (  
   start_date        DATE, 
   store_id          NUMBER, 
   inventory_id      NUMBER(6), 
   qty_sold          NUMBER(3) 
)  
PARTITION BY RANGE (start_date)  
INTERVAL(NUMTOYMINTERVAL(1, 'MONTH'))  
(   
   PARTITION interval_par_demo_p2 VALUES LESS THAN (TO_DATE('1-7-2007', 'DD-MM-YYYY')), 
   PARTITION interval_par_demo_p3 VALUES LESS THAN (TO_DATE('1-8-2007', 'DD-MM-YYYY'))  
);
</copy>
```

## Task 3: Auto Generate Interval Partitions


insert records
```
<copy>
insert into interval_par_demo (start_date, store_id, inventory_id, qty_sold)  
values ( '15-AUG-07', 1, 1, 1); 
insert into interval_par_demo (start_date, store_id, inventory_id, qty_sold)  
values ( '15-SEP-07', 1, 1, 1);
</copy>
```  

```
<copy>
SELECT  
   TABLE_NAME,  
   PARTITION_NAME,  
   PARTITION_POSITION,  
   HIGH_VALUE 
FROM  
   USER_TAB_PARTITIONS  
WHERE  
   TABLE_NAME='INTERVAL_PAR_DEMO' 
ORDER BY  
   PARTITION_NAME;
</copy>
```

Data in  interval\_par\_demo  table 

![Image alt text](images/lab2_01.png "interval_par_demo Data")

Data in  USER\_TAB\_PARTITIONS 

![Image alt text](images/lab2_04.png "USER_TAB_PARTITIONS Data")

SYS\_P1708 and SYS\_P1709 are autogenerated partitions based on intervals

Verify data in newly created partitions, 

Please Note: Auto Generate partition name might vary in your instance.

```
<copy> 
SELECT * FROM interval_par_demo PARTITION(SYS_P1708);
</copy>
```
![Image alt text](images/lab2_05.png "SYS_P1708 Data")

```
<copy> 
SELECT * FROM interval_par_demo PARTITION(SYS_P1709);
</copy>
```
![Image alt text](images/lab2_06.png "SYS_P1709 Data")
 
cleanup 
```
<copy>
rem drop everything succeeds
drop table interval_par_demo purge;
</copy>
```
 

You successfully made it to the end this lab Interval Partitions.    

## Learn More

* [Interval Partitioning](https://livesql.oracle.com/apex/livesql/file/content_O2Q47KN64Y8T46UK19XX43LYR.html)
* [Database VLDB and Partitioning Guide](https://docs.oracle.com/en/database/oracle/oracle-database/21/vldbg/partition-create-tables-indexes.html)

## Acknowledgements
- **Author** - Madhusudhan Rao, Principal Product Manager, Database
* **Contributors** -  <Name, Group> -- optional
* **Last Updated By/Date** - <Name, Month Year>
